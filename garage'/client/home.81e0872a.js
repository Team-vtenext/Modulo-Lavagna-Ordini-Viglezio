import{S as t,i as a,s as e,J as s,e as c,a as l,c as r,b as n,g as o,f as i,h as u,N as d,j as f,k as h,K as m,z as p,A as g,q as v,P as b,w as _,x as $,y as E,B as I,T as x,D as k,U as w,E as y,F as D,G as S,Q as T,t as V,d as N,n as j,H as L,R as A,O as P,M as C,m as z,C as M,r as O}from"./client.a25217ad.js";import{j as B}from"./jquery.a8cc79f8.js";import{M as H,K as q}from"./Modal.c70b38b4.js";const R=t=>({}),K=t=>({}),Q=t=>({}),W=t=>({});function U(t){let a,e,v,b,_,$,E,I;const x=t[5].header,k=s(x,t,t[4],W),w=t[5].body,y=s(w,t,t[4],K);return{c(){a=c("article"),e=l(),v=c("div"),b=c("div"),k&&k.c(),_=l(),$=c("div"),y&&y.c(),this.h()},l(t){a=r(t,"ARTICLE",{class:!0});var s=n(a);e=o(s),v=r(s,"DIV",{class:!0});var c=n(v);b=r(c,"DIV",{class:!0,style:!0});var l=n(b);k&&k.l(l),l.forEach(i),_=o(c),$=r(c,"DIV",{class:!0,style:!0});var u=n($);y&&y.l(u),u.forEach(i),c.forEach(i),s.forEach(i),this.h()},h(){u(b,"class","card-header svelte-1lifmcr"),d(b,"background-color",t[1]),d(b,"color",t[2]),u($,"class","card-body svelte-1lifmcr"),d($,"padding-top","0.25rem"),u(v,"class",E="card border-dark "+(1==t[0]?"square pulse2":"")+" svelte-1lifmcr"),u(a,"class","svelte-1lifmcr")},m(t,s){f(t,a,s),h(a,e),h(a,v),h(v,b),k&&k.m(b,null),h(v,_),h(v,$),y&&y.m($,null),I=!0},p(t,[a]){k&&k.p&&16&a&&m(k,x,t,t[4],a,Q,W),(!I||2&a)&&d(b,"background-color",t[1]),(!I||4&a)&&d(b,"color",t[2]),y&&y.p&&16&a&&m(y,w,t,t[4],a,R,K),(!I||1&a&&E!==(E="card border-dark "+(1==t[0]?"square pulse2":"")+" svelte-1lifmcr"))&&u(v,"class",E)},i(t){I||(p(!1),p(k,t),p(y,t),I=!0)},o(t){g(!1),g(k,t),g(y,t),I=!1},d(t){t&&i(a),k&&k.d(t),y&&y.d(t)}}}function J(t,a,e){let s,c,l,r,n,o,i,u,d,f,h,m,p,g,b,_,{currentDate:$}=a,{pulse:E}=a;v(async()=>{var t=$.split("-");e(3,$=new Date(+t[2],t[1]-1,+t[0]));var a=$.getDay();const v=await fetch("https://lepori.vtenext.ch/modules/SDK/src/modules/Webservices/boardBackend.php?action=getSettings",{method:"POST",headers:{"Content-Type":"application/json"}});let E=[...await v.json()];switch(l=E[0].mondaycol,r=E[0].tuesdaycol,n=E[0].wednesdaycol,o=E[0].thurstdaycol,i=E[0].fridaycol,u=E[0].saturdaycol,d=E[0].sundaycol,f=1==E[0].mondaytoggle?"#000":"#fff",h=1==E[0].tuesdaytoggle?"#000":"#fff",m=1==E[0].wednesdaytoggle?"#000":"#fff",p=1==E[0].thurstdaytoggle?"#000":"#fff",g=1==E[0].fridaytoggle?"#000":"#fff",b=1==E[0].saturdaytoggle?"#000":"#fff",_=1==E[0].sundaytoggle?"#000":"#fff",a){case 0:e(1,s=d),e(2,c=_);break;case 1:e(1,s=l),e(2,c=f);break;case 2:e(1,s=r),e(2,c=h);break;case 3:e(1,s=n),e(2,c=m);break;case 4:e(1,s=o),e(2,c=p);break;case 5:e(1,s=i),e(2,c=i);break;case 6:e(1,s=u),e(2,c=b)}});let{$$slots:I={},$$scope:x}=a;return t.$$set=t=>{"currentDate"in t&&e(3,$=t.currentDate),"pulse"in t&&e(0,E=t.pulse),"$$scope"in t&&e(4,x=t.$$scope)},[E,s,c,$,x,I]}class F extends t{constructor(t){super(),a(this,t,J,U,e,{currentDate:3,pulse:0})}}const{document:G}=w;function X(t,a,e){const s=t.slice();return s[32]=a[e],s[34]=e,s}function Y(t,a,e){const s=t.slice();return s[29]=a[e],s}function Z(t){return{c:j,l:j,m:j,p:j,i:j,o:j,d:j}}function tt(t){let a,e,s,l,o=t[7],d=[];for(let a=0;a<o.length;a+=1)d[a]=yt(Y(t,o,a));const m=t=>g(d[t],1,1,()=>{d[t]=null});let v=null;return o.length||(v=at()),{c(){a=c("div"),e=c("div"),s=c("div");for(let t=0;t<d.length;t+=1)d[t].c();v&&v.c(),this.h()},l(t){a=r(t,"DIV",{class:!0});var c=n(a);e=r(c,"DIV",{class:!0});var l=n(e);s=r(l,"DIV",{class:!0});var o=n(s);for(let t=0;t<d.length;t+=1)d[t].l(o);v&&v.l(o),o.forEach(i),l.forEach(i),c.forEach(i),this.h()},h(){u(s,"class","card-columns"),u(e,"class","col"),u(a,"class","row")},m(t,c){f(t,a,c),h(a,e),h(e,s);for(let t=0;t<d.length;t+=1)d[t].m(s,null);v&&v.m(s,null),l=!0},p(t,a){if(1222&a[0]){let e;for(o=t[7],e=0;e<o.length;e+=1){const c=Y(t,o,e);d[e]?(d[e].p(c,a),p(d[e],1)):(d[e]=yt(c),d[e].c(),p(d[e],1),d[e].m(s,null))}for(L(),e=o.length;e<d.length;e+=1)m(e);k(),o.length?v&&(v.d(1),v=null):v||(v=at(),v.c(),v.m(s,null))}},i(t){if(!l){for(let t=0;t<o.length;t+=1)p(d[t]);l=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)g(d[t]);l=!1},d(t){t&&i(a),A(d,t),v&&v.d()}}}function at(t){let a,e;return{c(){a=c("script"),e=V('var dialog = bootbox.dialog({\r\n\t\t\t\t\t\t\t\tcenterVertical: true,\r\n\t\t\t\t\t\t\t\tmessage: \'<h2><p class="text-center mb-0"><i class="fa fa-spin fas fa-tire fa-2x"></i> Loading</p></h2>\',\r\n\t\t\t\t\t\t\t\tcloseButton: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t')},l(t){a=r(t,"SCRIPT",{});var s=n(a);e=N(s,'var dialog = bootbox.dialog({\r\n\t\t\t\t\t\t\t\tcenterVertical: true,\r\n\t\t\t\t\t\t\t\tmessage: \'<h2><p class="text-center mb-0"><i class="fa fa-spin fas fa-tire fa-2x"></i> Loading</p></h2>\',\r\n\t\t\t\t\t\t\t\tcloseButton: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t'),s.forEach(i)},m(t,s){f(t,a,s),h(a,e)},d(t){t&&i(a)}}}function et(t){let a,e,s,d,h,m,p,g,v,b,_=t[29].salesorder_no+"",$=null!=t[29].account_id&&""!=t[29].account_id&&lt(t),E=null!=t[29].contact_id&&" "!=t[29].contact_id&&rt(t);return{c(){a=c("i"),e=l(),s=V(_),d=V(" - "),$&&$.c(),h=l(),E&&E.c(),m=l(),p=c("i"),this.h()},l(t){a=r(t,"I",{class:!0}),n(a).forEach(i),e=o(t),s=N(t,_),d=N(t," - "),$&&$.l(t),h=o(t),E&&E.l(t),m=o(t),p=r(t,"I",{class:!0,"data-toggle":!0,id:!0,"data-placement":!0,title:!0}),n(p).forEach(i),this.h()},h(){u(a,"class","fas fa-pause-circle text-dark"),u(p,"class","fas fa-info-circle text-info"),u(p,"data-toggle","tooltip"),u(p,"id","test"),u(p,"data-placement","top"),u(p,"title",g=t[29].cf_hsn_1111)},m(c,l){f(c,a,l),f(c,e,l),f(c,s,l),f(c,d,l),$&&$.m(c,l),f(c,h,l),E&&E.m(c,l),f(c,m,l),f(c,p,l),v||(b=z(p,"click",(function(){T(Bt(t[29].cf_hsn_1111))&&Bt(t[29].cf_hsn_1111).apply(this,arguments)})),v=!0)},p(a,e){t=a,128&e[0]&&_!==(_=t[29].salesorder_no+"")&&P(s,_),null!=t[29].account_id&&""!=t[29].account_id?$?$.p(t,e):($=lt(t),$.c(),$.m(h.parentNode,h)):$&&($.d(1),$=null),null!=t[29].contact_id&&" "!=t[29].contact_id?E?E.p(t,e):(E=rt(t),E.c(),E.m(m.parentNode,m)):E&&(E.d(1),E=null),128&e[0]&&g!==(g=t[29].cf_hsn_1111)&&u(p,"title",g)},d(t){t&&i(a),t&&i(e),t&&i(s),t&&i(d),$&&$.d(t),t&&i(h),E&&E.d(t),t&&i(m),t&&i(p),v=!1,b()}}}function st(t){let a,e,s,d,h,m,p=t[29].salesorder_no+"",g=null!=t[29].account_id&&""!=t[29].account_id&&nt(t),v=null!=t[29].contact_id&&" "!=t[29].contact_id&&ot(t);return{c(){a=c("i"),e=l(),s=V(p),d=V(" - "),g&&g.c(),h=l(),v&&v.c(),m=C(),this.h()},l(t){a=r(t,"I",{class:!0}),n(a).forEach(i),e=o(t),s=N(t,p),d=N(t," - "),g&&g.l(t),h=o(t),v&&v.l(t),m=C(),this.h()},h(){u(a,"class","fas fa-car-garage text-dark")},m(t,c){f(t,a,c),f(t,e,c),f(t,s,c),f(t,d,c),g&&g.m(t,c),f(t,h,c),v&&v.m(t,c),f(t,m,c)},p(t,a){128&a[0]&&p!==(p=t[29].salesorder_no+"")&&P(s,p),null!=t[29].account_id&&""!=t[29].account_id?g?g.p(t,a):(g=nt(t),g.c(),g.m(h.parentNode,h)):g&&(g.d(1),g=null),null!=t[29].contact_id&&" "!=t[29].contact_id?v?v.p(t,a):(v=ot(t),v.c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null)},d(t){t&&i(a),t&&i(e),t&&i(s),t&&i(d),g&&g.d(t),t&&i(h),v&&v.d(t),t&&i(m)}}}function ct(t){let a,e,s,d,h,m,p=t[29].salesorder_no+"",g=null!=t[29].account_id&&""!=t[29].account_id&&it(t),v=null!=t[29].contact_id&&" "!=t[29].contact_id&&ut(t);return{c(){a=c("i"),e=l(),s=V(p),d=V(" - "),g&&g.c(),h=l(),v&&v.c(),m=C(),this.h()},l(t){a=r(t,"I",{class:!0}),n(a).forEach(i),e=o(t),s=N(t,p),d=N(t," - "),g&&g.l(t),h=o(t),v&&v.l(t),m=C(),this.h()},h(){u(a,"class","fas fa-car-crash text-dark")},m(t,c){f(t,a,c),f(t,e,c),f(t,s,c),f(t,d,c),g&&g.m(t,c),f(t,h,c),v&&v.m(t,c),f(t,m,c)},p(t,a){128&a[0]&&p!==(p=t[29].salesorder_no+"")&&P(s,p),null!=t[29].account_id&&""!=t[29].account_id?g?g.p(t,a):(g=it(t),g.c(),g.m(h.parentNode,h)):g&&(g.d(1),g=null),null!=t[29].contact_id&&" "!=t[29].contact_id?v?v.p(t,a):(v=ut(t),v.c(),v.m(m.parentNode,m)):v&&(v.d(1),v=null)},d(t){t&&i(a),t&&i(e),t&&i(s),t&&i(d),g&&g.d(t),t&&i(h),v&&v.d(t),t&&i(m)}}}function lt(t){let a,e=t[29].account_id+"";return{c(){a=V(e)},l(t){a=N(t,e)},m(t,e){f(t,a,e)},p(t,s){128&s[0]&&e!==(e=t[29].account_id+"")&&P(a,e)},d(t){t&&i(a)}}}function rt(t){let a,e,s=t[29].contact_id+"";return{c(){a=V(", "),e=V(s)},l(t){a=N(t,", "),e=N(t,s)},m(t,s){f(t,a,s),f(t,e,s)},p(t,a){128&a[0]&&s!==(s=t[29].contact_id+"")&&P(e,s)},d(t){t&&i(a),t&&i(e)}}}function nt(t){let a,e=t[29].account_id+"";return{c(){a=V(e)},l(t){a=N(t,e)},m(t,e){f(t,a,e)},p(t,s){128&s[0]&&e!==(e=t[29].account_id+"")&&P(a,e)},d(t){t&&i(a)}}}function ot(t){let a,e,s=t[29].contact_id+"";return{c(){a=V(", "),e=V(s)},l(t){a=N(t,", "),e=N(t,s)},m(t,s){f(t,a,s),f(t,e,s)},p(t,a){128&a[0]&&s!==(s=t[29].contact_id+"")&&P(e,s)},d(t){t&&i(a),t&&i(e)}}}function it(t){let a,e=t[29].account_id+"";return{c(){a=V(e)},l(t){a=N(t,e)},m(t,e){f(t,a,e)},p(t,s){128&s[0]&&e!==(e=t[29].account_id+"")&&P(a,e)},d(t){t&&i(a)}}}function ut(t){let a,e,s=t[29].contact_id+"";return{c(){a=V(", "),e=V(s)},l(t){a=N(t,", "),e=N(t,s)},m(t,s){f(t,a,s),f(t,e,s)},p(t,a){128&a[0]&&s!==(s=t[29].contact_id+"")&&P(e,s)},d(t){t&&i(a),t&&i(e)}}}function dt(t){let a,e,s,d,m,p,g,v,b,_=t[29].duedate+"";function $(t,a){return"Approved"==t[29].sostatus?ct:"Under Processing"==t[29].sostatus?st:"On Hold"==t[29].sostatus?et:void 0}let E=$(t),I=E&&E(t);return{c(){a=c("div"),e=c("div"),s=c("div"),I&&I.c(),d=l(),m=c("div"),p=c("small"),g=c("i"),v=l(),b=V(_),this.h()},l(t){a=r(t,"DIV",{slot:!0});var c=n(a);e=r(c,"DIV",{class:!0});var l=n(e);s=r(l,"DIV",{class:!0});var u=n(s);I&&I.l(u),u.forEach(i),d=o(l),m=r(l,"DIV",{class:!0});var f=n(m);p=r(f,"SMALL",{});var h=n(p);g=r(h,"I",{class:!0}),n(g).forEach(i),v=o(h),b=N(h,_),h.forEach(i),f.forEach(i),l.forEach(i),c.forEach(i),this.h()},h(){u(s,"class","col-8"),u(g,"class","fas fa-clock"),u(m,"class","col-4 text-right"),u(e,"class","row"),u(a,"slot","header")},m(t,c){f(t,a,c),h(a,e),h(e,s),I&&I.m(s,null),h(e,d),h(e,m),h(m,p),h(p,g),h(p,v),h(p,b)},p(t,a){E===(E=$(t))&&I?I.p(t,a):(I&&I.d(1),I=E&&E(t),I&&(I.c(),I.m(s,null))),128&a[0]&&_!==(_=t[29].duedate+"")&&P(b,_)},d(t){t&&i(a),I&&I.d()}}}function ft(t){let a,e,s,l,o,u=Ot(t[29].product_block.products)+"";return{c(){a=c("span"),e=c("h5"),s=V(u),l=V(t[1]),o=V("s"),this.h()},l(c){a=r(c,"SPAN",{style:!0});var d=n(a);e=r(d,"H5",{});var f=n(e);s=N(f,u),l=N(f,t[1]),o=N(f,"s"),f.forEach(i),d.forEach(i),this.h()},h(){d(a,"color","red")},m(t,c){f(t,a,c),h(a,e),h(e,s),h(e,l),h(e,o)},p(t,a){128&a[0]&&u!==(u=Ot(t[29].product_block.products)+"")&&P(s,u),2&a[0]&&P(l,t[1])},d(t){t&&i(a)}}}function ht(t){let a,e,s,c,r,n,u=t[29].cf_hsn_1064.marca+"",d=t[29].cf_hsn_1064.modello+"",h=t[29].cf_hsn_1064.targa+"";return{c(){a=V(u),e=l(),s=V(d),c=V(" ("),r=V(h),n=V(")")},l(t){a=N(t,u),e=o(t),s=N(t,d),c=N(t," ("),r=N(t,h),n=N(t,")")},m(t,l){f(t,a,l),f(t,e,l),f(t,s,l),f(t,c,l),f(t,r,l),f(t,n,l)},p(t,e){128&e[0]&&u!==(u=t[29].cf_hsn_1064.marca+"")&&P(a,u),128&e[0]&&d!==(d=t[29].cf_hsn_1064.modello+"")&&P(s,d),128&e[0]&&h!==(h=t[29].cf_hsn_1064.targa+"")&&P(r,h)},d(t){t&&i(a),t&&i(e),t&&i(s),t&&i(c),t&&i(r),t&&i(n)}}}function mt(t){let a,e,s,d,m,p,g,v,b,_,$,E,I,x,k,w=t[32].productName+"",y=t[32].productDescription+"",D=""!=t[32].comment&&bt(t);function S(...a){return t[14](t[29],t[32],...a)}return{c(){a=c("a"),e=c("div"),s=c("h5"),d=c("i"),m=V(" "),p=V(w),g=l(),v=c("small"),b=c("i"),_=l(),$=c("p"),E=V(y),I=l(),D&&D.c(),this.h()},l(t){a=r(t,"A",{href:!0,class:!0});var c=n(a);e=r(c,"DIV",{class:!0});var l=n(e);s=r(l,"H5",{class:!0});var u=n(s);d=r(u,"I",{class:!0}),n(d).forEach(i),m=N(u," "),p=N(u,w),u.forEach(i),g=o(l),v=r(l,"SMALL",{});var f=n(v);b=r(f,"I",{class:!0}),n(b).forEach(i),f.forEach(i),l.forEach(i),_=o(c),$=r(c,"P",{class:!0});var h=n($);E=N(h,y),h.forEach(i),I=o(c),D&&D.l(c),c.forEach(i),this.h()},h(){u(d,"class","fal fa-clipboard-list-check"),u(s,"class","mb-1"),u(b,"class","fas fa-user"),u(e,"class","d-flex w-100 justify-content-between"),u($,"class","mb-1"),u(a,"href","."),u(a,"class","list-group-item list-group-item-action")},m(t,c){f(t,a,c),h(a,e),h(e,s),h(s,d),h(s,m),h(s,p),h(e,g),h(e,v),h(v,b),h(a,_),h(a,$),h($,E),h(a,I),D&&D.m(a,null),x||(k=z(a,"click",M(S)),x=!0)},p(e,s){t=e,128&s[0]&&w!==(w=t[32].productName+"")&&P(p,w),128&s[0]&&y!==(y=t[32].productDescription+"")&&P(E,y),""!=t[32].comment?D?D.p(t,s):(D=bt(t),D.c(),D.m(a,null)):D&&(D.d(1),D=null)},d(t){t&&i(a),D&&D.d(),x=!1,k()}}}function pt(t){let a,e,s,d,m,p,g,v,b,_,$,E,I,x,k,w,y,D,S,T=t[32].productName+"",j=t[32].user+"",L=Mt(t[32].starttime,!0)+"",A=t[32].productDescription+"",C=""!=t[32].comment&&_t(t);function O(...a){return t[13](t[29],t[32],...a)}return{c(){a=c("a"),e=c("div"),s=c("h5"),d=c("i"),m=V(" "),p=V(T),g=l(),v=c("small"),b=c("i"),_=V(" "),$=V(j),E=V(" | "),I=V(L),x=l(),k=c("p"),w=V(A),y=l(),C&&C.c(),this.h()},l(t){a=r(t,"A",{href:!0,class:!0});var c=n(a);e=r(c,"DIV",{class:!0});var l=n(e);s=r(l,"H5",{class:!0});var u=n(s);d=r(u,"I",{class:!0}),n(d).forEach(i),m=N(u," "),p=N(u,T),u.forEach(i),g=o(l),v=r(l,"SMALL",{});var f=n(v);b=r(f,"I",{class:!0}),n(b).forEach(i),_=N(f," "),$=N(f,j),E=N(f," | "),I=N(f,L),f.forEach(i),l.forEach(i),x=o(c),k=r(c,"P",{class:!0});var h=n(k);w=N(h,A),h.forEach(i),y=o(c),C&&C.l(c),c.forEach(i),this.h()},h(){u(d,"class","fal fa-clipboard-list-check"),u(s,"class","mb-1"),u(b,"class","fas fa-user-clock text-success"),u(e,"class","d-flex w-100 justify-content-between"),u(k,"class","mb-1"),u(a,"href","."),u(a,"class","list-group-item list-group-item-action list-group-item-info")},m(t,c){f(t,a,c),h(a,e),h(e,s),h(s,d),h(s,m),h(s,p),h(e,g),h(e,v),h(v,b),h(v,_),h(v,$),h(v,E),h(v,I),h(a,x),h(a,k),h(k,w),h(a,y),C&&C.m(a,null),D||(S=z(a,"click",M(O)),D=!0)},p(e,s){t=e,128&s[0]&&T!==(T=t[32].productName+"")&&P(p,T),128&s[0]&&j!==(j=t[32].user+"")&&P($,j),128&s[0]&&L!==(L=Mt(t[32].starttime,!0)+"")&&P(I,L),128&s[0]&&A!==(A=t[32].productDescription+"")&&P(w,A),""!=t[32].comment?C?C.p(t,s):(C=_t(t),C.c(),C.m(a,null)):C&&(C.d(1),C=null)},d(t){t&&i(a),C&&C.d(),D=!1,S()}}}function gt(t){let a,e,s,d,m,p,g,v,b,_,$,E,I,x,k,w,y,D,S,T,j,L,A,C=t[32].productName+"",O=t[32].user+"",B=Mt(t[32].starttime,!0)+"",H=t[32].productDescription+"",q=""!=t[32].comment&&$t(t);function R(...a){return t[12](t[29],t[32],...a)}return{c(){a=c("a"),e=c("div"),s=c("h5"),d=c("i"),m=V(" "),p=V(C),g=l(),v=c("small"),b=c("i"),_=V(" "),$=V(O),E=c("br"),I=l(),x=c("h6"),k=V(B),w=V(t[1]),y=V("s"),D=l(),S=c("p"),T=V(H),j=l(),q&&q.c(),this.h()},l(c){a=r(c,"A",{href:!0,class:!0});var l=n(a);e=r(l,"DIV",{class:!0});var u=n(e);s=r(u,"H5",{class:!0});var f=n(s);d=r(f,"I",{class:!0}),n(d).forEach(i),m=N(f," "),p=N(f,C),f.forEach(i),g=o(u),v=r(u,"SMALL",{});var h=n(v);b=r(h,"I",{class:!0}),n(b).forEach(i),_=N(h," "),$=N(h,O),E=r(h,"BR",{}),I=o(h),x=r(h,"H6",{});var V=n(x);k=N(V,B),w=N(V,t[1]),y=N(V,"s"),V.forEach(i),h.forEach(i),u.forEach(i),D=o(l),S=r(l,"P",{class:!0});var L=n(S);T=N(L,H),L.forEach(i),j=o(l),q&&q.l(l),l.forEach(i),this.h()},h(){u(d,"class","fal fa-clipboard-list-check"),u(s,"class","mb-1"),u(b,"class","fas fa-user-clock text-warning"),u(e,"class","d-flex w-100 justify-content-between"),u(S,"class","mb-1"),u(a,"href","."),u(a,"class","list-group-item list-group-item-action list-group-item-warning")},m(t,c){f(t,a,c),h(a,e),h(e,s),h(s,d),h(s,m),h(s,p),h(e,g),h(e,v),h(v,b),h(v,_),h(v,$),h(v,E),h(v,I),h(v,x),h(x,k),h(x,w),h(x,y),h(a,D),h(a,S),h(S,T),h(a,j),q&&q.m(a,null),L||(A=z(a,"click",M(R)),L=!0)},p(e,s){t=e,128&s[0]&&C!==(C=t[32].productName+"")&&P(p,C),128&s[0]&&O!==(O=t[32].user+"")&&P($,O),128&s[0]&&B!==(B=Mt(t[32].starttime,!0)+"")&&P(k,B),2&s[0]&&P(w,t[1]),128&s[0]&&H!==(H=t[32].productDescription+"")&&P(T,H),""!=t[32].comment?q?q.p(t,s):(q=$t(t),q.c(),q.m(a,null)):q&&(q.d(1),q=null)},d(t){t&&i(a),q&&q.d(),L=!1,A()}}}function vt(t){let a,e=0==t[6]&&Et(t);return{c(){e&&e.c(),a=C()},l(t){e&&e.l(t),a=C()},m(t,s){e&&e.m(t,s),f(t,a,s)},p(t,s){0==t[6]?e?e.p(t,s):(e=Et(t),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&i(a)}}}function bt(t){let a,e,s,l,o=t[32].comment+"";return{c(){a=c("small"),e=c("i"),s=V(" "),l=V(o),this.h()},l(t){a=r(t,"SMALL",{});var c=n(a);e=r(c,"I",{class:!0}),n(e).forEach(i),s=N(c," "),l=N(c,o),c.forEach(i),this.h()},h(){u(e,"class","fal fa-comment-lines")},m(t,c){f(t,a,c),h(a,e),h(a,s),h(a,l)},p(t,a){128&a[0]&&o!==(o=t[32].comment+"")&&P(l,o)},d(t){t&&i(a)}}}function _t(t){let a,e,s,l,o=t[32].comment+"";return{c(){a=c("small"),e=c("i"),s=V(" "),l=V(o),this.h()},l(t){a=r(t,"SMALL",{});var c=n(a);e=r(c,"I",{class:!0}),n(e).forEach(i),s=N(c," "),l=N(c,o),c.forEach(i),this.h()},h(){u(e,"class","fal fa-comment-lines")},m(t,c){f(t,a,c),h(a,e),h(a,s),h(a,l)},p(t,a){128&a[0]&&o!==(o=t[32].comment+"")&&P(l,o)},d(t){t&&i(a)}}}function $t(t){let a,e,s,l,o=t[32].comment+"";return{c(){a=c("small"),e=c("i"),s=V(" "),l=V(o),this.h()},l(t){a=r(t,"SMALL",{});var c=n(a);e=r(c,"I",{class:!0}),n(e).forEach(i),s=N(c," "),l=N(c,o),c.forEach(i),this.h()},h(){u(e,"class","fal fa-comment-lines")},m(t,c){f(t,a,c),h(a,e),h(a,s),h(a,l)},p(t,a){128&a[0]&&o!==(o=t[32].comment+"")&&P(l,o)},d(t){t&&i(a)}}}function Et(t){let a,e,s,d,m,p,g,v,b,_,$,E,I,x,k,w,y,D,S,T,j=t[32].productName+"",L=t[32].user+"",A=Mt(t[32].starttime,!0)+"",C=t[32].productDescription+"",O=""!=t[32].comment&&It(t);function B(...a){return t[11](t[29],t[32],...a)}return{c(){a=c("a"),e=c("div"),s=c("h5"),d=c("i"),m=V(" \r\n\t\t\t\t\t\t\t\t\t\t\t"),p=V(j),g=l(),v=c("small"),b=c("i"),_=V(" "),$=V(L),E=l(),I=c("h6"),x=V(A),k=l(),w=c("p"),y=V(C),D=l(),O&&O.c(),this.h()},l(t){a=r(t,"A",{href:!0,class:!0});var c=n(a);e=r(c,"DIV",{class:!0});var l=n(e);s=r(l,"H5",{class:!0});var u=n(s);d=r(u,"I",{class:!0});var f=n(d);m=N(f," \r\n\t\t\t\t\t\t\t\t\t\t\t"),f.forEach(i),p=N(u,j),u.forEach(i),g=o(l),v=r(l,"SMALL",{});var h=n(v);b=r(h,"I",{class:!0}),n(b).forEach(i),_=N(h," "),$=N(h,L),E=o(h),I=r(h,"H6",{});var S=n(I);x=N(S,A),S.forEach(i),h.forEach(i),l.forEach(i),k=o(c),w=r(c,"P",{class:!0});var T=n(w);y=N(T,C),T.forEach(i),D=o(c),O&&O.l(c),c.forEach(i),this.h()},h(){u(d,"class","fal fa-check text-success"),u(s,"class","mb-1"),u(b,"class","fas fa-user-check"),u(e,"class","d-flex w-100 justify-content-between"),u(w,"class","mb-1"),u(a,"href","."),u(a,"class","list-group-item list-group-item-action list-group-item-success")},m(t,c){f(t,a,c),h(a,e),h(e,s),h(s,d),h(d,m),h(s,p),h(e,g),h(e,v),h(v,b),h(v,_),h(v,$),h(v,E),h(v,I),h(I,x),h(a,k),h(a,w),h(w,y),h(a,D),O&&O.m(a,null),S||(T=z(a,"click",M(B)),S=!0)},p(e,s){t=e,128&s[0]&&j!==(j=t[32].productName+"")&&P(p,j),128&s[0]&&L!==(L=t[32].user+"")&&P($,L),128&s[0]&&A!==(A=Mt(t[32].starttime,!0)+"")&&P(x,A),128&s[0]&&C!==(C=t[32].productDescription+"")&&P(y,C),""!=t[32].comment?O?O.p(t,s):(O=It(t),O.c(),O.m(a,null)):O&&(O.d(1),O=null)},d(t){t&&i(a),O&&O.d(),S=!1,T()}}}function It(t){let a,e,s,l,o=t[32].comment+"";return{c(){a=c("small"),e=c("i"),s=V(" "),l=V(o),this.h()},l(t){a=r(t,"SMALL",{});var c=n(a);e=r(c,"I",{class:!0}),n(e).forEach(i),s=N(c," "),l=N(c,o),c.forEach(i),this.h()},h(){u(e,"class","fal fa-comment-lines")},m(t,c){f(t,a,c),h(a,e),h(a,s),h(a,l)},p(t,a){128&a[0]&&o!==(o=t[32].comment+"")&&P(l,o)},d(t){t&&i(a)}}}function xt(t){let a;function e(t,a){return"Concluso"==t[32].current_status?vt:"In Corso"==t[32].current_status?gt:"Pausa"==t[32].current_status?pt:mt}let s=e(t),c=s(t);return{c(){c.c(),a=C()},l(t){c.l(t),a=C()},m(t,e){c.m(t,e),f(t,a,e)},p(t,l){s===(s=e(t))&&c?c.p(t,l):(c.d(1),c=s(t),c&&(c.c(),c.m(a.parentNode,a)))},d(t){c.d(t),t&&i(a)}}}function kt(t){let a,e,s,d,m,p,g,v,b,_,$,E,I,x,k,w,y,D,S,T,j,L,C,B,H,q,R,K,Q,W,U,J,F,G,Y,Z,tt,at,et,st,ct,lt,rt=t[29].cf_hsn_1064.targa+"",nt=t[29].veicoliid.marca+"",ot=t[29].veicoliid.modello+"",it=""!=Ot(t[29].product_block.products),ut=t[29].description+"",dt=it&&ft(t),mt=""!=t[29].cf_hsn_1064.targa&&null!=t[29].cf_hsn_1064.targa&&ht(t),pt=t[29].product_block.products,gt=[];for(let a=0;a<pt.length;a+=1)gt[a]=xt(X(t,pt,a));function vt(...a){return t[15](t[29],...a)}return{c(){a=c("div"),e=c("div"),s=c("div"),d=c("div"),m=c("h5"),p=V(rt),g=c("br"),v=V(nt),b=V(", "),_=V(ot),$=V(" "),E=l(),dt&&dt.c(),I=l(),x=c("div"),k=c("i"),w=V(" Auto di Cortesia"),y=c("br"),D=l(),mt&&mt.c(),S=l(),T=c("div"),j=c("div"),L=c("small"),C=V(ut),B=l(),H=c("div");for(let t=0;t<gt.length;t+=1)gt[t].c();q=l(),R=c("br"),Q=l(),W=c("div"),U=c("div"),J=c("a"),F=c("i"),G=V(" Chiudi"),Y=l(),Z=c("div"),tt=c("a"),at=c("i"),this.h()},l(t){a=r(t,"DIV",{slot:!0});var c=n(a);e=r(c,"DIV",{class:!0});var l=n(e);s=r(l,"DIV",{class:!0});var u=n(s);d=r(u,"DIV",{class:!0});var f=n(d);m=r(f,"H5",{class:!0});var h=n(m);p=N(h,rt),g=r(h,"BR",{}),v=N(h,nt),b=N(h,", "),_=N(h,ot),$=N(h," "),h.forEach(i),f.forEach(i),E=o(u),dt&&dt.l(u),I=o(u),x=r(u,"DIV",{class:!0});var V=n(x);k=r(V,"I",{class:!0}),n(k).forEach(i),w=N(V," Auto di Cortesia"),y=r(V,"BR",{}),D=o(V),mt&&mt.l(V),V.forEach(i),u.forEach(i),S=o(l),T=r(l,"DIV",{class:!0});var A=n(T);j=r(A,"DIV",{class:!0});var P=n(j);L=r(P,"SMALL",{});var z=n(L);C=N(z,ut),z.forEach(i),P.forEach(i),A.forEach(i),l.forEach(i),B=o(c),H=r(c,"DIV",{class:!0,id:!0});var M=n(H);for(let t=0;t<gt.length;t+=1)gt[t].l(M);q=o(M),R=r(M,"BR",{}),M.forEach(i),Q=o(c),W=r(c,"DIV",{class:!0});var O=n(W);U=r(O,"DIV",{class:!0});var K=n(U);J=r(K,"A",{href:!0,class:!0});var X=n(J);F=r(X,"I",{class:!0}),n(F).forEach(i),G=N(X," Chiudi"),X.forEach(i),K.forEach(i),Y=o(O),Z=r(O,"DIV",{class:!0});var et=n(Z);tt=r(et,"A",{class:!0,"data-toggle":!0,href:!0,role:!0,"aria-expanded":!0,"aria-controls":!0});var st=n(tt);at=r(st,"I",{class:!0}),n(at).forEach(i),st.forEach(i),et.forEach(i),O.forEach(i),c.forEach(i),this.h()},h(){u(m,"class","card-title text-dark"),u(d,"class","col"),u(k,"class","fas fa-car text-danger"),u(x,"class","col text-right"),u(s,"class","row"),u(j,"class","col"),u(T,"class","row"),u(e,"class","card-text mb-3"),u(H,"class","list-group mb-3 collapse"),u(H,"id",K="collapse"+t[29].id),u(F,"class","fas fa-check"),u(J,"href","."),u(J,"class","btn btn-success"),u(U,"class","col-5"),u(at,"class","fas fa-plus-square fa-2x"),u(tt,"class","text-info"),u(tt,"data-toggle","collapse"),u(tt,"href",et="#collapse"+t[29].id),u(tt,"role","button"),u(tt,"aria-expanded","false"),u(tt,"aria-controls",st="collapse"+t[29].id),u(Z,"class","col-2 text-center"),u(W,"class","row"),u(a,"slot","body")},m(c,l){f(c,a,l),h(a,e),h(e,s),h(s,d),h(d,m),h(m,p),h(m,g),h(m,v),h(m,b),h(m,_),h(m,$),h(s,E),dt&&dt.m(s,null),h(s,I),h(s,x),h(x,k),h(x,w),h(x,y),h(x,D),mt&&mt.m(x,null),h(e,S),h(e,T),h(T,j),h(j,L),h(L,C),h(a,B),h(a,H);for(let t=0;t<gt.length;t+=1)gt[t].m(H,null);h(H,q),h(H,R),h(a,Q),h(a,W),h(W,U),h(U,J),h(J,F),h(J,G),h(W,Y),h(W,Z),h(Z,tt),h(tt,at),ct||(lt=[z(J,"click",M(vt)),z(at,"click",t[16])],ct=!0)},p(a,e){if(t=a,128&e[0]&&rt!==(rt=t[29].cf_hsn_1064.targa+"")&&P(p,rt),128&e[0]&&nt!==(nt=t[29].veicoliid.marca+"")&&P(v,nt),128&e[0]&&ot!==(ot=t[29].veicoliid.modello+"")&&P(_,ot),128&e[0]&&(it=""!=Ot(t[29].product_block.products)),it?dt?dt.p(t,e):(dt=ft(t),dt.c(),dt.m(s,I)):dt&&(dt.d(1),dt=null),""!=t[29].cf_hsn_1064.targa&&null!=t[29].cf_hsn_1064.targa?mt?mt.p(t,e):(mt=ht(t),mt.c(),mt.m(x,null)):mt&&(mt.d(1),mt=null),128&e[0]&&ut!==(ut=t[29].description+"")&&P(C,ut),1218&e[0]){let a;for(pt=t[29].product_block.products,a=0;a<pt.length;a+=1){const s=X(t,pt,a);gt[a]?gt[a].p(s,e):(gt[a]=xt(s),gt[a].c(),gt[a].m(H,q))}for(;a<gt.length;a+=1)gt[a].d(1);gt.length=pt.length}128&e[0]&&K!==(K="collapse"+t[29].id)&&u(H,"id",K),128&e[0]&&et!==(et="#collapse"+t[29].id)&&u(tt,"href",et),128&e[0]&&st!==(st="collapse"+t[29].id)&&u(tt,"aria-controls",st)},d(t){t&&i(a),dt&&dt.d(),mt&&mt.d(),A(gt,t),ct=!1,O(lt)}}}function wt(t){let a,e;return{c(){a=l(),e=l()},l(t){a=o(t),e=o(t)},m(t,s){f(t,a,s),f(t,e,s)},p:j,d(t){t&&i(a),t&&i(e)}}}function yt(t){let a,e,s,u,d;return u=new F({props:{currentDate:t[29].duedate,pulse:t[29].cf_hsn_1089,$$slots:{default:[wt],body:[kt],header:[dt]},$$scope:{ctx:t}}}),{c(){a=c("script"),e=V("dialog.modal('hide');"),s=l(),_(u.$$.fragment)},l(t){a=r(t,"SCRIPT",{});var c=n(a);e=N(c,"dialog.modal('hide');"),c.forEach(i),s=o(t),$(u.$$.fragment,t)},m(t,c){f(t,a,c),h(a,e),f(t,s,c),E(u,t,c),d=!0},p(t,a){const e={};128&a[0]&&(e.currentDate=t[29].duedate),128&a[0]&&(e.pulse=t[29].cf_hsn_1089),198&a[0]|16&a[1]&&(e.$$scope={dirty:a,ctx:t}),u.$set(e)},i(t){d||(p(u.$$.fragment,t),d=!0)},o(t){g(u.$$.fragment,t),d=!1},d(t){t&&i(a),t&&i(s),I(u,t)}}}function Dt(t){let a,e,s,u,d;return{c(){a=c("script"),e=V('var dialog = bootbox.dialog({\r\n\t\tmessage: \'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> Please wait while we do something...</p>\',\r\n\t\tcloseButton: false\r\n\t});'),s=l(),u=c("style"),d=V(".pulse2 {\r\n  animation: pulse2 1.0s ease-out infinite;\r\n}\r\n\r\n@keyframes pulse2 {\r\n  50% {\r\n    box-shadow: 0 0 0 0.3em rgba(255, 0, 0, 0.712);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0.6em rgba(255, 255, 255, 0);\r\n  }\r\n}\r\n\r\n.square {\r\n  border-radius: 0.6em;\r\n  box-sizing: border-box;\r\n  margin: 1em;\r\n  overflow: hidden;\r\n}")},l(t){a=r(t,"SCRIPT",{});var c=n(a);e=N(c,'var dialog = bootbox.dialog({\r\n\t\tmessage: \'<p class="text-center mb-0"><i class="fa fa-spin fa-cog"></i> Please wait while we do something...</p>\',\r\n\t\tcloseButton: false\r\n\t});'),c.forEach(i),s=o(t),u=r(t,"STYLE",{});var l=n(u);d=N(l,".pulse2 {\r\n  animation: pulse2 1.0s ease-out infinite;\r\n}\r\n\r\n@keyframes pulse2 {\r\n  50% {\r\n    box-shadow: 0 0 0 0.3em rgba(255, 0, 0, 0.712);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0.6em rgba(255, 255, 255, 0);\r\n  }\r\n}\r\n\r\n.square {\r\n  border-radius: 0.6em;\r\n  box-sizing: border-box;\r\n  margin: 1em;\r\n  overflow: hidden;\r\n}"),l.forEach(i)},m(t,c){f(t,a,c),h(a,e),f(t,s,c),f(t,u,c),h(u,d)},p:j,i:j,o:j,d(t){t&&i(a),t&&i(s),t&&i(u)}}}function St(t){let a,e;return a=new H({props:{$$slots:{default:[Tt]},$$scope:{ctx:t}}}),a.$on("close",t[18]),{c(){_(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,s){E(a,t,s),e=!0},p(t,e){const s={};16&e[0]|16&e[1]&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){e||(p(a.$$.fragment,t),e=!0)},o(t){g(a.$$.fragment,t),e=!1},d(t){I(a,t)}}}function Tt(t){let a,e,s;function c(a){t[17].call(null,a)}let l={};return void 0!==t[4]&&(l.value=t[4]),a=new q({props:l}),y.push(()=>D(a,"value",c)),a.$on("submit",t[8]),{c(){_(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,e){E(a,t,e),s=!0},p(t,s){const c={};!e&&16&s[0]&&(e=!0,c.value=t[4],S(()=>e=!1)),a.$set(c)},i(t){s||(p(a.$$.fragment,t),s=!0)},o(t){g(a.$$.fragment,t),s=!1},d(t){I(a,t)}}}function Vt(t){let a,e;return a=new H({props:{$$slots:{default:[Nt]},$$scope:{ctx:t}}}),a.$on("close",t[20]),{c(){_(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,s){E(a,t,s),e=!0},p(t,e){const s={};40&e[0]|16&e[1]&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){e||(p(a.$$.fragment,t),e=!0)},o(t){g(a.$$.fragment,t),e=!1},d(t){I(a,t)}}}function Nt(t){let a,e,s;function c(a){t[19].call(null,a)}let l={};return void 0!==t[5]&&(l.value=t[5]),a=new q({props:l}),y.push(()=>D(a,"value",c)),a.$on("submit",(function(){T(t[9](t[3]))&&t[9](t[3]).apply(this,arguments)})),{c(){_(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,e){E(a,t,e),s=!0},p(s,c){t=s;const l={};!e&&32&c[0]&&(e=!0,l.value=t[5],S(()=>e=!1)),a.$set(l)},i(t){s||(p(a.$$.fragment,t),s=!0)},o(t){g(a.$$.fragment,t),s=!1},d(t){I(a,t)}}}function jt(t){let a,e;return a=new H({props:{$$slots:{default:[At],header:[Lt]},$$scope:{ctx:t}}}),a.$on("close",t[21]),{c(){_(a.$$.fragment)},l(t){$(a.$$.fragment,t)},m(t,s){E(a,t,s),e=!0},p(t,e){const s={};16&e[1]&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){e||(p(a.$$.fragment,t),e=!0)},o(t){g(a.$$.fragment,t),e=!1},d(t){I(a,t)}}}function Lt(t){let a,e;return{c(){a=c("h2"),e=V("Seleziona Operazione"),this.h()},l(t){a=r(t,"H2",{slot:!0});var s=n(a);e=N(s,"Seleziona Operazione"),s.forEach(i),this.h()},h(){u(a,"slot","header")},m(t,s){f(t,a,s),h(a,e)},d(t){t&&i(a)}}}function At(t){let a,e,s,d,m,p,g;return{c(){a=l(),e=c("div"),s=c("button"),d=V("In Pausa"),m=l(),p=c("button"),g=V("Termina"),this.h()},l(t){a=o(t),e=r(t,"DIV",{class:!0});var c=n(e);s=r(c,"BUTTON",{});var l=n(s);d=N(l,"In Pausa"),l.forEach(i),m=o(c),p=r(c,"BUTTON",{});var u=n(p);g=N(u,"Termina"),u.forEach(i),c.forEach(i),this.h()},h(){u(e,"class","col-2")},m(t,c){f(t,a,c),f(t,e,c),h(e,s),h(s,d),h(e,m),h(e,p),h(p,g)},p:j,d(t){t&&i(a),t&&i(e)}}}function Pt(t){let a,e,s,d,m,v,_,$={ctx:t,current:null,token:null,pending:Dt,then:tt,catch:Z,value:7,blocks:[,,,]};b(s=t[7],$);let E=0!=t[2]&&St(t),I=0!=t[3]&&Vt(t),w=t[0]&&jt(t);return{c(){a=l(),e=c("main"),$.block.c(),d=l(),E&&E.c(),m=l(),I&&I.c(),v=l(),w&&w.c(),this.h()},l(t){x('[data-svelte="svelte-1tz223n"]',G.head).forEach(i),a=o(t),e=r(t,"MAIN",{role:!0,class:!0});var s=n(e);$.block.l(s),d=o(s),E&&E.l(s),m=o(s),I&&I.l(s),v=o(s),w&&w.l(s),s.forEach(i),this.h()},h(){G.title="Carrozzeria Lepori",u(e,"role","main"),u(e,"class","container-fluid")},m(t,s){f(t,a,s),f(t,e,s),$.block.m(e,$.anchor=null),$.mount=()=>e,$.anchor=d,h(e,d),E&&E.m(e,null),h(e,m),I&&I.m(e,null),h(e,v),w&&w.m(e,null),_=!0},p(a,c){if(t=a,$.ctx=t,128&c[0]&&s!==(s=t[7])&&b(s,$));else{const a=t.slice();a[7]=$.resolved,$.block.p(a,c)}0!=t[2]?E?(E.p(t,c),4&c[0]&&p(E,1)):(E=St(t),E.c(),p(E,1),E.m(e,m)):E&&(L(),g(E,1,1,()=>{E=null}),k()),0!=t[3]?I?(I.p(t,c),8&c[0]&&p(I,1)):(I=Vt(t),I.c(),p(I,1),I.m(e,v)):I&&(L(),g(I,1,1,()=>{I=null}),k()),t[0]?w?(w.p(t,c),1&c[0]&&p(w,1)):(w=jt(t),w.c(),p(w,1),w.m(e,null)):w&&(L(),g(w,1,1,()=>{w=null}),k())},i(t){_||(p($.block),p(E),p(I),p(w),_=!0)},o(t){for(let t=0;t<3;t+=1){const a=$.blocks[t];g(a)}g(E),g(I),g(w),_=!1},d(t){t&&i(a),t&&i(e),$.block.d(),$.token=null,$=null,E&&E.d(),I&&I.d(),w&&w.d()}}}function Ct(t,a){const{token:e}=a;if(!e)return this.redirect(302,"/")}let zt="https://lepori.vtenext.ch/";function Mt(t,a){var e=new Date(t).getTime();if(1==a)a=(new Date).getTime();else a=new Date(a).getTime();var s=a-e,c=s/1e3,l=s/60/1e3,r=s/3600/1e3,n={};return n.hours=Math.floor(r),n.minutes=l-60*n.hours,n.seconds=c%60,n.hours<1&&n.minutes>1?parseInt(n.minutes)+"min":parseInt(n.hours)+"h "+parseInt(n.minutes)+"min "}function Ot(t){var a,e=[];for(a=0;a<t.length;a++)"In Corso"==t[a].current_status&&e.push(t[a].starttime);var s=e.sort((function(t,a){return Date.parse(t)-Date.parse(a)}));return s[0]?Mt(s[0],!0):""}function Bt(t){bootbox.dialog({message:t,title:"Motivazione attesa",animate:!0,backdrop:!0,className:"small"})}function Ht(t,a,e){let s,c,l,r,n,o=!1,i=[],u=0,d=!1,f=!1;function h(t,a,s){bootbox.prompt("<h5 class='modal-title'>In attesa della carta</h5><br><small>Dimenticato la Tessera:</small>&nbsp;<input type='checkbox' id='missingcard' value='Dimenticato la tessera' />",(function(l){B("#missingcard").is(":checked")?(e(5,c=""),e(3,f=t+","+a+","+s)):null!==l&&""!=l&&m(t,a,s,l,!1,n).then(t=>{if("Success"!=t){var a=bootbox.alert({message:t,size:"small"});setTimeout((function(){a.modal("hide")}),5e3)}})}))}async function m(t,a,e,s,c,l){let r={authentication:s,crmid:t,lineItemId:a,inventoryField:"current_status",value:e,isPin:c,autoClose:l};const n=await fetch(zt+"modules/SDK/src/modules/Webservices/backend.php?action=updateInventoryRow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return p(),n.json()}async function p(){const t=await fetch(zt+"modules/SDK/src/modules/Webservices/backend.php?action=getOrders",{method:"POST",headers:{"Content-Type":"application/json"}}),a=await t.json();e(1,u=0),e(7,i=a.data)}function g(t,a,e){"In Corso"===e?bootbox.dialog({message:"<p>Seleziona se mettere in pausa o terminare l'attività selezionata</p>",size:"large",buttons:{pause:{label:"<i class='fas fa-pause'></i> Pausa Attività",className:"btn btn-dark btn-lg btn-block",callback(){h(t,a,e="Pausa")}},close:{label:"<i class='fas fa-check'></i> Termina Attività",className:"btn btn-success btn-lg btn-block",callback(){h(t,a,e="Concluso")}}}}):h(t,a,e="In Corso")}function b(){e(1,u+=1),60==u&&e(1,u=0)}v(async()=>{window.jQuery||(window.jQuery=B);var t=document.readyState;"complete"!==t&&"loaded"!==t||window.jQuery((function(){window.jQuery('[data-toggle="tooltip"]').tooltip(),window.jQuery("#test").tooltip("show")}));const a=await fetch(zt+"modules/SDK/src/modules/Webservices/boardBackend.php?action=getSettings",{method:"POST",headers:{"Content-Type":"application/json"}});let s=[...await a.json()];l=s[0].pin,e(6,r=s[0].hidecompletedjobs),n=s[0].autocloseproject;const c=setInterval(p,6e4);setInterval(b,1e3);return p(),()=>clearInterval(c)});return[o,u,d,f,s,c,r,i,function(){s==l?(e(4,s=""),async function(t){let a={crmid:t};return(await fetch(zt+"modules/SDK/src/modules/Webservices/backend.php?action=closeSalesOrder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json()}(d).then(t=>{var a=bootbox.alert({message:t.error,size:"small"});setTimeout((function(){a.modal("hide")}),2e3)}),e(2,d=!1)):(e(4,s=""),bootbox.alert({message:"<p align='center'>PIN Errato</p>",animate:!0,size:"small",backdrop:!0,centerVertical:!0,className:"animate__animated animate__shakeX"}))},function(t){m((t=t.split(","))[0],t[1],t[2],c,!0,n).then(t=>{if(e(3,f=!1),"Success"!=t){var a=bootbox.alert({message:t,size:"small"});setTimeout((function(){a.modal("hide")}),5e3)}})},g,(t,a)=>g(t.id,a.lineItemId,a.current_status),(t,a)=>g(t.id,a.lineItemId,a.current_status),(t,a)=>g(t.id,a.lineItemId,a.current_status),(t,a)=>g(t.id,a.lineItemId,a.current_status),t=>e(2,d=t.id),t=>{return e=(a=t).path[0].classList,void(a.path[0].classList="fas fa-plus-square fa-2x"==e?"fas fa-minus-square fa-2x":"fas fa-plus-square fa-2x");var a,e},function(t){s=t,e(4,s)},()=>e(0,o=!1),function(t){c=t,e(5,c)},()=>e(0,o=!1),()=>e(0,o=!1)]}export default class extends t{constructor(t){super(),a(this,t,Ht,Pt,e,{},[-1,-1])}}export{Ct as preload};
