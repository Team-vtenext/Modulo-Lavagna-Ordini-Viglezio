import{S as a,i as t,s as e,w as s,x as n,y as r,z as l,A as c,B as o,e as i,a as f,t as m,M as u,c as h,b as p,f as d,g,d as $,h as b,N as v,j as y,k as E,m as x,C as k,O as T,H as N,D as w,r as I,q as S,E as O,F as D,G as j,P as A,Q as C,v as P,n as U,R as B,J as M,K as _}from"./client.a25217ad.js";import{M as K,K as z}from"./Modal.c70b38b4.js";function H(a,t,e){const s=a.slice();return s[35]=t[e],s}function L(a,t,e){const s=a.slice();return s[32]=t[e],s}function V(a){let t,e;return t=new K({props:{$$slots:{default:[J]},$$scope:{ctx:a}}}),t.$on("close",a[20]),{c(){s(t.$$.fragment)},l(a){n(t.$$.fragment,a)},m(a,s){r(t,a,s),e=!0},p(a,e){const s={};256&e[0]|128&e[1]&&(s.$$scope={dirty:e,ctx:a}),t.$set(s)},i(a){e||(l(t.$$.fragment,a),e=!0)},o(a){c(t.$$.fragment,a),e=!1},d(a){o(t,a)}}}function J(a){let t,e,i;function f(t){a[19].call(null,t)}let m={};return void 0!==a[8]&&(m.value=a[8]),t=new z({props:m}),O.push(()=>D(t,"value",f)),t.$on("submit",a[11]),{c(){s(t.$$.fragment)},l(a){n(t.$$.fragment,a)},m(a,e){r(t,a,e),i=!0},p(a,s){const n={};!e&&256&s[0]&&(e=!0,n.value=a[8],j(()=>e=!1)),t.$set(n)},i(a){i||(l(t.$$.fragment,a),i=!0)},o(a){c(t.$$.fragment,a),i=!1},d(a){o(t,a)}}}function W(a){let t,e;return t=new K({props:{$$slots:{default:[X]},$$scope:{ctx:a}}}),t.$on("close",a[22]),{c(){s(t.$$.fragment)},l(a){n(t.$$.fragment,a)},m(a,s){r(t,a,s),e=!0},p(a,e){const s={};40&e[0]|128&e[1]&&(s.$$scope={dirty:e,ctx:a}),t.$set(s)},i(a){e||(l(t.$$.fragment,a),e=!0)},o(a){c(t.$$.fragment,a),e=!1},d(a){o(t,a)}}}function Q(a){return{c:U,l:U,m:U,p:U,d:U}}function R(a){let t,e=a[31],s=[];for(let t=0;t<e.length;t+=1)s[t]=G(L(a,e,t));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=u()},l(a){for(let t=0;t<s.length;t+=1)s[t].l(a);t=u()},m(a,e){for(let t=0;t<s.length;t+=1)s[t].m(a,e);y(a,t,e)},p(a,n){if(8&n[0]){let r;for(e=a[31],r=0;r<e.length;r+=1){const l=L(a,e,r);s[r]?s[r].p(l,n):(s[r]=G(l),s[r].c(),s[r].m(t.parentNode,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=e.length}},d(a){B(s,a),a&&d(t)}}}function F(a){let t,e,s,n,r,l,c,o,u,x,k,N,w,I=a[32].vcf_3_3+"",S=a[35].f1+"",O=new Date(1e3*a[35].f2).toISOString().substr(11,8)+"";return{c(){t=i("a"),e=i("div"),s=i("h5"),n=i("i"),r=m(" "),l=m(I),c=m(" "),o=f(),u=i("h6"),x=m(S),k=m(" - "),N=m(O),w=f(),this.h()},l(a){t=h(a,"A",{href:!0,class:!0,style:!0});var i=p(t);e=h(i,"DIV",{class:!0});var f=p(e);s=h(f,"H5",{class:!0});var m=p(s);n=h(m,"I",{class:!0}),p(n).forEach(d),r=$(m," "),l=$(m,I),c=$(m," "),m.forEach(d),o=g(f),u=h(f,"H6",{});var b=p(u);x=$(b,S),k=$(b," - "),N=$(b,O),b.forEach(d),f.forEach(d),w=g(i),i.forEach(d),this.h()},h(){b(n,"class","fas fa-user"),b(s,"class","mb-1"),b(e,"class","d-flex w-100 justify-content-between"),b(t,"href","."),b(t,"class","list-group-item list-group-item-action"),v(t,"pointer-events","none")},m(a,i){y(a,t,i),E(t,e),E(e,s),E(s,n),E(s,r),E(s,l),E(s,c),E(e,o),E(e,u),E(u,x),E(u,k),E(u,N),E(t,w)},p(a,t){8&t[0]&&I!==(I=a[32].vcf_3_3+"")&&T(l,I),8&t[0]&&S!==(S=a[35].f1+"")&&T(x,S),8&t[0]&&O!==(O=new Date(1e3*a[35].f2).toISOString().substr(11,8)+"")&&T(N,O)},d(a){a&&d(t)}}}function G(a){let t,e=a[32].lines,s=[];for(let t=0;t<e.length;t+=1)s[t]=F(H(a,e,t));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=u()},l(a){for(let t=0;t<s.length;t+=1)s[t].l(a);t=u()},m(a,e){for(let t=0;t<s.length;t+=1)s[t].m(a,e);y(a,t,e)},p(a,n){if(8&n[0]){let r;for(e=a[32].lines,r=0;r<e.length;r+=1){const l=H(a,e,r);s[r]?s[r].p(l,n):(s[r]=F(l),s[r].c(),s[r].m(t.parentNode,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=e.length}},d(a){B(s,a),a&&d(t)}}}function q(a){let t;return{c(){t=i("p")},l(a){t=h(a,"P",{}),p(t).forEach(d)},m(a,e){y(a,t,e)},p:U,d(a){a&&d(t)}}}function X(a){let t,e,s,n,r,l,c,o,u,T,N={ctx:a,current:null,token:null,pending:q,then:R,catch:Q,value:31};return A(t=a[3],N),{c(){N.block.c(),e=f(),s=i("div"),n=i("br"),r=f(),l=i("a"),c=i("button"),o=m("Chiudi"),this.h()},l(a){N.block.l(a),e=g(a),s=h(a,"DIV",{style:!0});var t=p(s);n=h(t,"BR",{}),r=g(t),l=h(t,"A",{href:!0});var i=p(l);c=h(i,"BUTTON",{class:!0});var f=p(c);o=$(f,"Chiudi"),f.forEach(d),i.forEach(d),t.forEach(d),this.h()},h(){b(c,"class","btn btn-success my-2 my-sm-0"),b(l,"href","."),v(s,"text-align","right")},m(t,i){N.block.m(t,N.anchor=i),N.mount=()=>e.parentNode,N.anchor=e,y(t,e,i),y(t,s,i),E(s,n),E(s,r),E(s,l),E(l,c),E(c,o),u||(T=x(l,"click",k(a[21])),u=!0)},p(e,s){if(a=e,N.ctx=a,8&s[0]&&t!==(t=a[3])&&A(t,N));else{const t=a.slice();t[31]=N.resolved,N.block.p(t,s)}},d(a){N.block.d(a),N.token=null,N=null,a&&d(e),a&&d(s),u=!1,T()}}}function Y(a){let t,e;return t=new K({props:{$$slots:{default:[Z]},$$scope:{ctx:a}}}),t.$on("close",a[24]),{c(){s(t.$$.fragment)},l(a){n(t.$$.fragment,a)},m(a,s){r(t,a,s),e=!0},p(a,e){const s={};576&e[0]|128&e[1]&&(s.$$scope={dirty:e,ctx:a}),t.$set(s)},i(a){e||(l(t.$$.fragment,a),e=!0)},o(a){c(t.$$.fragment,a),e=!1},d(a){o(t,a)}}}function Z(a){let t,e,i;function f(t){a[23].call(null,t)}let m={};return void 0!==a[9]&&(m.value=a[9]),t=new z({props:m}),O.push(()=>D(t,"value",f)),t.$on("submit",(function(){C(a[13](a[6]))&&a[13](a[6]).apply(this,arguments)})),{c(){s(t.$$.fragment)},l(a){n(t.$$.fragment,a)},m(a,e){r(t,a,e),i=!0},p(s,n){a=s;const r={};!e&&512&n[0]&&(e=!0,r.value=a[9],j(()=>e=!1)),t.$set(r)},i(a){i||(l(t.$$.fragment,a),i=!0)},o(a){c(t.$$.fragment,a),i=!1},d(a){o(t,a)}}}function aa(a){let t,e;return t=new K({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}}),t.$on("close",a[26]),{c(){s(t.$$.fragment)},l(a){n(t.$$.fragment,a)},m(a,s){r(t,a,s),e=!0},p(a,e){const s={};512&e[0]|128&e[1]&&(s.$$scope={dirty:e,ctx:a}),t.$set(s)},i(a){e||(l(t.$$.fragment,a),e=!0)},o(a){c(t.$$.fragment,a),e=!1},d(a){o(t,a)}}}function ta(a){let t,e,i;function f(t){a[25].call(null,t)}let m={};return void 0!==a[9]&&(m.value=a[9]),t=new z({props:m}),O.push(()=>D(t,"value",f)),t.$on("submit",(function(){C(a[10](a[9],!0))&&a[10](a[9],!0).apply(this,arguments)})),{c(){s(t.$$.fragment)},l(a){n(t.$$.fragment,a)},m(a,e){r(t,a,e),i=!0},p(s,n){a=s;const r={};!e&&512&n[0]&&(e=!0,r.value=a[9],j(()=>e=!1)),t.$set(r)},i(a){i||(l(t.$$.fragment,a),i=!0)},o(a){c(t.$$.fragment,a),i=!1},d(a){o(t,a)}}}function ea(a){let t,e,s,n,r,o,S,O,D,j,A,C,P,U,B,M,_,K,z,H,L,J,Q,R,F,G,q,X,Z,ta,ea,sa,na,ra,la,ca,oa,ia,fa,ma,ua,ha,pa,da,ga,$a,ba,va,ya,Ea,xa,ka,Ta,Na,wa,Ia,Sa,Oa=a[4]&&V(a),Da=a[5]&&W(a),ja=0!=a[6]&&Y(a),Aa=a[7]&&aa(a);return{c(){t=i("nav"),e=i("a"),s=i("img"),r=f(),o=i("button"),S=i("span"),O=f(),D=i("div"),j=i("ul"),A=i("li"),C=i("a"),P=i("i"),U=m(" Home "),B=i("span"),M=m("(current)"),_=f(),K=i("li"),z=i("a"),H=i("i"),L=m(" Calendario"),J=f(),Q=i("form"),R=i("a"),F=i("button"),G=i("i"),q=m(" Mie Timbrature"),X=m(" \n\t"),Z=i("a"),ta=i("button"),ea=i("i"),sa=m(" Entrata"),na=m(" \n\t"),ra=i("a"),la=i("button"),ca=i("i"),oa=m(" Uscita"),ia=m(" \n      "),fa=i("input"),ma=f(),ua=i("button"),ha=i("i"),pa=m(" Cerca"),da=f(),ga=i("a"),$a=i("button"),ba=i("i"),va=f(),ya=m(a[2]),Ea=f(),Oa&&Oa.c(),xa=f(),Da&&Da.c(),ka=f(),ja&&ja.c(),Ta=f(),Aa&&Aa.c(),Na=u(),this.h()},l(n){t=h(n,"NAV",{class:!0,style:!0});var l=p(t);e=h(l,"A",{class:!0,href:!0,onclick:!0});var c=p(e);s=h(c,"IMG",{alt:!0,src:!0,width:!0,style:!0}),c.forEach(d),r=g(l),o=h(l,"BUTTON",{class:!0,type:!0,"data-toggle":!0,"data-target":!0,"aria-controls":!0,"aria-expanded":!0,"aria-label":!0});var i=p(o);S=h(i,"SPAN",{class:!0}),p(S).forEach(d),i.forEach(d),O=g(l),D=h(l,"DIV",{class:!0});var f=p(D);j=h(f,"UL",{class:!0});var m=p(j);A=h(m,"LI",{class:!0});var b=p(A);C=h(b,"A",{class:!0,href:!0,style:!0});var v=p(C);P=h(v,"I",{class:!0}),p(P).forEach(d),U=$(v," Home "),B=h(v,"SPAN",{class:!0});var y=p(B);M=$(y,"(current)"),y.forEach(d),v.forEach(d),b.forEach(d),_=g(m),K=h(m,"LI",{class:!0});var E=p(K);z=h(E,"A",{class:!0,href:!0,style:!0});var x=p(z);H=h(x,"I",{class:!0}),p(H).forEach(d),L=$(x," Calendario"),x.forEach(d),E.forEach(d),m.forEach(d),J=g(f),Q=h(f,"FORM",{class:!0});var k=p(Q);R=h(k,"A",{href:!0});var T=p(R);F=h(T,"BUTTON",{class:!0});var N=p(F);G=h(N,"I",{class:!0}),p(G).forEach(d),q=$(N," Mie Timbrature"),N.forEach(d),T.forEach(d),X=$(k," \n\t"),Z=h(k,"A",{href:!0});var w=p(Z);ta=h(w,"BUTTON",{class:!0});var I=p(ta);ea=h(I,"I",{class:!0}),p(ea).forEach(d),sa=$(I," Entrata"),I.forEach(d),w.forEach(d),na=$(k," \n\t"),ra=h(k,"A",{href:!0});var V=p(ra);la=h(V,"BUTTON",{class:!0});var W=p(la);ca=h(W,"I",{class:!0}),p(ca).forEach(d),oa=$(W," Uscita"),W.forEach(d),V.forEach(d),ia=$(k," \n      "),fa=h(k,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),ma=g(k),ua=h(k,"BUTTON",{class:!0,type:!0});var Y=p(ua);ha=h(Y,"I",{class:!0}),p(ha).forEach(d),pa=$(Y," Cerca"),Y.forEach(d),k.forEach(d),da=g(f),ga=h(f,"A",{href:!0});var aa=p(ga);$a=h(aa,"BUTTON",{class:!0});var wa=p($a);ba=h(wa,"I",{class:!0}),p(ba).forEach(d),va=g(wa),ya=$(wa,a[2]),wa.forEach(d),aa.forEach(d),f.forEach(d),l.forEach(d),Ea=g(n),Oa&&Oa.l(n),xa=g(n),Da&&Da.l(n),ka=g(n),ja&&ja.l(n),Ta=g(n),Aa&&Aa.l(n),Na=u(),this.h()},h(){b(s,"alt",""),s.src!==(n="images/logo-dark.png")&&b(s,"src","images/logo-dark.png"),b(s,"width","150"),v(s,"margin-right","20px"),b(e,"class","navbar-brand"),b(e,"href","."),b(e,"onclick","location.reload();"),b(S,"class","navbar-toggler-icon"),b(o,"class","navbar-toggler"),b(o,"type","button"),b(o,"data-toggle","collapse"),b(o,"data-target","#navbarsExampleDefault"),b(o,"aria-controls","navbarsExampleDefault"),b(o,"aria-expanded","false"),b(o,"aria-label","Toggle navigation"),b(P,"class","fas fa-garage-open"),b(B,"class","sr-only"),b(C,"class","nav-link"),b(C,"href","garage/home"),v(C,"color",a[1]),b(A,"class","nav-item active"),b(H,"class","fas fa-calendar-alt"),b(z,"class","nav-link"),b(z,"href","garage/calendar"),v(z,"color",a[1]),b(K,"class","nav-item active"),b(j,"class","navbar-nav mr-auto"),b(G,"class","far fa-folder-open"),b(F,"class","btn btn-dark my-2 my-sm-0"),b(R,"href","."),b(ea,"class","fas fa-id-badge"),b(ta,"class","btn btn-success my-2 my-sm-0"),b(Z,"href","."),b(ca,"class","far fa-id-badge"),b(la,"class","btn btn-danger my-2 my-sm-0"),b(ra,"href","."),b(fa,"class","form-control mr-sm-2"),b(fa,"type","text"),b(fa,"placeholder","Cerca"),b(fa,"aria-label","Cerca"),b(ha,"class","fas fa-search"),b(ua,"class","btn btn-light my-2 my-sm-0 mr-sm-2"),b(ua,"type","submit"),b(Q,"class","form-inline my-2 my-lg-0"),b(ba,"class","fas fa-user"),b($a,"class","btn btn-success my-2 my-sm-0"),b(ga,"href","."),b(D,"class","collapse navbar-collapse"),b(t,"class","navbar navbar-expand-md navbar-light bg-light fixed-top"),v(t,"background-color",a[0],1)},m(n,l){y(n,t,l),E(t,e),E(e,s),E(t,r),E(t,o),E(o,S),E(t,O),E(t,D),E(D,j),E(j,A),E(A,C),E(C,P),E(C,U),E(C,B),E(B,M),E(j,_),E(j,K),E(K,z),E(z,H),E(z,L),E(D,J),E(D,Q),E(Q,R),E(R,F),E(F,G),E(F,q),E(Q,X),E(Q,Z),E(Z,ta),E(ta,ea),E(ta,sa),E(Q,na),E(Q,ra),E(ra,la),E(la,ca),E(la,oa),E(Q,ia),E(Q,fa),E(Q,ma),E(Q,ua),E(ua,ha),E(ua,pa),E(D,da),E(D,ga),E(ga,$a),E($a,ba),E($a,va),E($a,ya),y(n,Ea,l),Oa&&Oa.m(n,l),y(n,xa,l),Da&&Da.m(n,l),y(n,ka,l),ja&&ja.m(n,l),y(n,Ta,l),Aa&&Aa.m(n,l),y(n,Na,l),wa=!0,Ia||(Sa=[x(R,"click",k(a[15])),x(Z,"click",k(a[16])),x(ra,"click",k(a[17])),x(ga,"click",k(a[18]))],Ia=!0)},p(a,e){(!wa||2&e[0])&&v(C,"color",a[1]),(!wa||2&e[0])&&v(z,"color",a[1]),(!wa||4&e[0])&&T(ya,a[2]),(!wa||1&e[0])&&v(t,"background-color",a[0],1),a[4]?Oa?(Oa.p(a,e),16&e[0]&&l(Oa,1)):(Oa=V(a),Oa.c(),l(Oa,1),Oa.m(xa.parentNode,xa)):Oa&&(N(),c(Oa,1,1,()=>{Oa=null}),w()),a[5]?Da?(Da.p(a,e),32&e[0]&&l(Da,1)):(Da=W(a),Da.c(),l(Da,1),Da.m(ka.parentNode,ka)):Da&&(N(),c(Da,1,1,()=>{Da=null}),w()),0!=a[6]?ja?(ja.p(a,e),64&e[0]&&l(ja,1)):(ja=Y(a),ja.c(),l(ja,1),ja.m(Ta.parentNode,Ta)):ja&&(N(),c(ja,1,1,()=>{ja=null}),w()),a[7]?Aa?(Aa.p(a,e),128&e[0]&&l(Aa,1)):(Aa=aa(a),Aa.c(),l(Aa,1),Aa.m(Na.parentNode,Na)):Aa&&(N(),c(Aa,1,1,()=>{Aa=null}),w())},i(a){wa||(l(Oa),l(Da),l(ja),l(Aa),wa=!0)},o(a){c(Oa),c(Da),c(ja),c(Aa),wa=!1},d(a){a&&d(t),a&&d(Ea),Oa&&Oa.d(a),a&&d(xa),Da&&Da.d(a),a&&d(ka),ja&&ja.d(a),a&&d(Ta),Aa&&Aa.d(a),a&&d(Na),Ia=!1,I(Sa)}}}let sa="https://lepori.vtenext.ch/";async function na(a,t,e){let s={authentication:t,type:a,isPin:e};return(await fetch(sa+"modules/SDK/src/modules/Webservices/backend.php?action=createEntryLine",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).json()}function ra(a,t,e){let s,n,r,l,c,o,i,f=[],m=!1,u=!1,h=!1,p=!1;async function d(a,t){let s={authentication:a,isPin:t};const n=await fetch(sa+"modules/SDK/src/modules/Webservices/backend.php?action=getTodayEntryLines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});let r=await n.json();return e(3,f=r.data),e(5,u=!0),e(7,p=!1),r}function g(a){bootbox.prompt("<h5 class='modal-title'>In attesa della carta</h5><br><small>Dimenticato la Tessera:</small>&nbsp;<input type='checkbox' id='missingcard' value='Dimenticato la tessera' />",(function(t){jQuery("#missingcard").is(":checked")?(e(9,i=""),e(6,h=a)):null!==t&&""!=t&&na(a,t,!1).then(a=>{if(a.error){var t=bootbox.alert({message:a.error,size:"small"});setTimeout((function(){t.modal("hide")}),5e3)}})}))}function $(){bootbox.prompt("<h5 class='modal-title'>In attesa della carta</h5><br><small>Dimenticato la Tessera:</small>&nbsp;<input type='checkbox' id='missingcard' value='Dimenticato la tessera' />",(function(a){jQuery("#missingcard").is(":checked")&&(e(9,i=""),e(7,p=!0)),null!==a&&""!=a&&d(a).then(a=>{if(a.error){var t=bootbox.alert({message:a.error,size:"small"});setTimeout((function(){t.modal("hide")}),1e4)}else e(5,u=!0)})}))}S(async()=>{const a=await fetch(sa+"modules/SDK/src/modules/Webservices/boardBackend.php?action=getSettings",{method:"POST",headers:{"Content-Type":"application/json"}});let t=[...await a.json()];r=t[0].pin,e(0,s=t[0].topbarcol),e(1,n=1==t[0].topbartoggle?"#000":"#fff"),e(2,l=t[0].username)});return[s,n,l,f,m,u,h,p,o,i,d,async()=>{let a=o;const t=await fetch(sa+"modules/SDK/src/modules/Webservices/boardBackend.php?action=login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({value:a})}),s=await t.json();s.error?(c=s.error,bootbox.alert({message:"<p align='center'>PIN Errato</p>",animate:!0,size:"small",backdrop:!0,centerVertical:!0,className:"animate__animated animate__shakeX"}),e(8,o="")):(e(4,m=!1),e(8,o=""),P("/garage/settings"))},g,function(a){na(a,i,!0).then(a=>{if(a.error){var t=bootbox.alert({message:a.error,size:"small"});setTimeout((function(){t.modal("hide")}),5e3)}})},$,()=>$(),()=>g("Entrata"),()=>g("Uscita"),()=>e(4,m=!0),function(a){o=a,e(8,o)},()=>e(4,m=!1),()=>e(5,u=!1),()=>e(5,u=!1),function(a){i=a,e(9,i)},()=>e(6,h=!1),function(a){i=a,e(9,i)},()=>e(7,p=!1)]}class la extends a{constructor(a){super(),t(this,a,ra,ea,e,{},[-1,-1])}}function ca(a){let t,e,m,u;t=new la({});const $=a[1].default,b=M($,a,a[0],null);return{c(){s(t.$$.fragment),e=f(),m=i("main"),b&&b.c()},l(a){n(t.$$.fragment,a),e=g(a),m=h(a,"MAIN",{});var s=p(m);b&&b.l(s),s.forEach(d)},m(a,s){r(t,a,s),y(a,e,s),y(a,m,s),b&&b.m(m,null),u=!0},p(a,[t]){b&&b.p&&1&t&&_(b,$,a,a[0],t,null,null)},i(a){u||(l(t.$$.fragment,a),l(b,a),u=!0)},o(a){c(t.$$.fragment,a),c(b,a),u=!1},d(a){o(t,a),a&&d(e),a&&d(m),b&&b.d(a)}}}function oa(a,t,e){let{$$slots:s={},$$scope:n}=t;return a.$$set=a=>{"$$scope"in a&&e(0,n=a.$$scope)},[n,s]}export default class extends a{constructor(a){super(),t(this,a,oa,ca,e,{})}}
