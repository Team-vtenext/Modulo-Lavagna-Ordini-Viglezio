import{_ as a,a as r,b as s,c as e,i as t,s as o,d as c,S as n,E as l,F as f,G as i,H as u,I as p,J as d,e as h,t as v,f as m,g as b,h as E,j as g,k as y,l as I,m as x,n as D,o as L,p as $,q as T,K as B,r as P,L as w,v as U,z as V,A as R,y as k,M as N,N as A,O as z,P as j,D as C}from"./client.5db13843.js";import"./jquery.e1982201.js";import{M as S,K}from"./Modal.cde7e1e3.js";function O(a){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}();return function(){var t,o=r(a);if(e){var c=r(this).constructor;t=Reflect.construct(o,arguments,c)}else t=o.apply(this,arguments);return s(this,t)}}function M(a){var r,s;return(r=new S({props:{$$slots:{default:[H]},$$scope:{ctx:a}}})).$on("close",a[6]),{c:function(){l(r.$$.fragment)},l:function(a){f(r.$$.fragment,a)},m:function(a,e){i(r,a,e),s=!0},p:function(a,s){var e={};515&s&&(e.$$scope={dirty:s,ctx:a}),r.$set(e)},i:function(a){s||(u(r.$$.fragment,a),s=!0)},o:function(a){p(r.$$.fragment,a),s=!1},d:function(a){d(r,a)}}}function H(a){var r,s,e;function t(r){a[4].call(null,r)}var o={};return void 0!==a[0]&&(o.value=a[0]),r=new K({props:o}),N.push((function(){return A(r,"value",t)})),r.$on("submit",a[5]),{c:function(){l(r.$$.fragment)},l:function(a){f(r.$$.fragment,a)},m:function(a,s){i(r,a,s),e=!0},p:function(a,e){var t={};!s&&1&e&&(s=!0,t.value=a[0],z((function(){return s=!1}))),r.$set(t)},i:function(a){e||(u(r.$$.fragment,a),e=!0)},o:function(a){p(r.$$.fragment,a),e=!1},d:function(a){d(r,a)}}}function F(a){var r,s,e,t,o,c,n,l,f,i,d,V,R,k,N,A,z,C,S,K,O,H,F,q,W,_,G,Q,X,Y,Z,aa,ra,sa,ea,ta,oa,ca,na,la,fa,ia,ua,pa,da,ha,va,ma,ba,Ea,ga,ya,Ia,xa,Da,La,$a,Ta,Ba,Pa,wa,Ua,Va,Ra,ka,Na,Aa,za,ja,Ca,Sa,Ka,Oa,Ma,Ha,Fa,qa,Ja,Wa,_a,Ga,Qa,Xa,Ya,Za,ar,rr,sr,er,tr,or,cr,nr,lr,fr,ir,ur,pr,dr,hr=0!=a[1]&&M(a);return{c:function(){r=h("main"),s=h("div"),e=h("div"),t=h("h1"),o=v("Configurazione Iniziale"),c=m(),n=h("form"),l=h("p"),f=h("br"),i=m(),d=h("h4"),V=v("Impostazioni Database"),R=m(),k=h("div"),N=h("label"),A=h("i"),z=v(" Database URL"),C=m(),S=h("input"),K=m(),O=h("div"),H=h("label"),F=h("i"),q=v(" Database"),W=m(),_=h("input"),G=m(),Q=h("div"),X=h("label"),Y=h("i"),Z=v(" DB Username"),aa=m(),ra=h("input"),sa=m(),ea=h("div"),ta=h("label"),oa=h("i"),ca=v(" DB Password"),na=m(),la=h("input"),fa=m(),ia=h("p"),ua=h("br"),pa=m(),da=h("h4"),ha=v("Configurazione Lavagna/VTE"),va=m(),ma=h("div"),ba=h("label"),Ea=h("i"),ga=v(" URL VTE"),ya=m(),Ia=h("input"),xa=m(),Da=h("div"),La=h("label"),$a=h("i"),Ta=v(" Username VTE"),Ba=m(),Pa=h("input"),wa=m(),Ua=h("div"),Va=h("label"),Ra=h("i"),ka=v(" Password VTE"),Na=m(),Aa=h("input"),za=m(),ja=h("div"),Ca=h("label"),Sa=h("i"),Ka=v(" Access Key"),Oa=m(),Ma=h("input"),Ha=m(),Fa=h("div"),qa=h("label"),Ja=h("i"),Wa=v(" PIN Lavagna"),_a=m(),Ga=h("input"),Qa=h("br"),Xa=m(),Ya=h("a"),Za=h("i"),ar=v("Imposta Pin"),rr=m(),sr=h("br"),er=h("br"),tr=m(),or=h("button"),cr=h("i"),nr=v(" Salva"),lr=m(),fr=h("br"),ir=m(),hr&&hr.c(),this.h()},l:function(a){r=b(a,"MAIN",{role:!0,class:!0});var u=E(r);s=b(u,"DIV",{class:!0});var p=E(s);e=b(p,"DIV",{class:!0});var h=E(e);t=b(h,"H1",{});var v=E(t);o=g(v,"Configurazione Iniziale"),v.forEach(y),c=I(h),n=b(h,"FORM",{});var m=E(n);l=b(m,"P",{});var x=E(l);f=b(x,"BR",{}),x.forEach(y),i=I(m),d=b(m,"H4",{});var D=E(d);V=g(D,"Impostazioni Database"),D.forEach(y),R=I(m),k=b(m,"DIV",{class:!0});var L=E(k);N=b(L,"LABEL",{for:!0});var $=E(N);A=b($,"I",{class:!0}),E(A).forEach(y),z=g($," Database URL"),$.forEach(y),C=I(L),S=b(L,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),L.forEach(y),K=I(m),O=b(m,"DIV",{class:!0});var T=E(O);H=b(T,"LABEL",{for:!0});var B=E(H);F=b(B,"I",{class:!0}),E(F).forEach(y),q=g(B," Database"),B.forEach(y),W=I(T),_=b(T,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),T.forEach(y),G=I(m),Q=b(m,"DIV",{class:!0});var P=E(Q);X=b(P,"LABEL",{for:!0});var w=E(X);Y=b(w,"I",{class:!0}),E(Y).forEach(y),Z=g(w," DB Username"),w.forEach(y),aa=I(P),ra=b(P,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),P.forEach(y),sa=I(m),ea=b(m,"DIV",{class:!0});var U=E(ea);ta=b(U,"LABEL",{for:!0});var j=E(ta);oa=b(j,"I",{class:!0}),E(oa).forEach(y),ca=g(j," DB Password"),j.forEach(y),na=I(U),la=b(U,"INPUT",{type:!0,class:!0,id:!0}),U.forEach(y),fa=I(m),ia=b(m,"P",{});var M=E(ia);ua=b(M,"BR",{}),M.forEach(y),pa=I(m),da=b(m,"H4",{});var J=E(da);ha=g(J,"Configurazione Lavagna/VTE"),J.forEach(y),va=I(m),ma=b(m,"DIV",{class:!0});var ur=E(ma);ba=b(ur,"LABEL",{for:!0});var pr=E(ba);Ea=b(pr,"I",{class:!0}),E(Ea).forEach(y),ga=g(pr," URL VTE"),pr.forEach(y),ya=I(ur),Ia=b(ur,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),ur.forEach(y),xa=I(m),Da=b(m,"DIV",{class:!0});var dr=E(Da);La=b(dr,"LABEL",{for:!0});var vr=E(La);$a=b(vr,"I",{class:!0}),E($a).forEach(y),Ta=g(vr," Username VTE"),vr.forEach(y),Ba=I(dr),Pa=b(dr,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),dr.forEach(y),wa=I(m),Ua=b(m,"DIV",{class:!0});var mr=E(Ua);Va=b(mr,"LABEL",{for:!0});var br=E(Va);Ra=b(br,"I",{class:!0}),E(Ra).forEach(y),ka=g(br," Password VTE"),br.forEach(y),Na=I(mr),Aa=b(mr,"INPUT",{type:!0,class:!0,id:!0}),mr.forEach(y),za=I(m),ja=b(m,"DIV",{class:!0});var Er=E(ja);Ca=b(Er,"LABEL",{for:!0});var gr=E(Ca);Sa=b(gr,"I",{class:!0}),E(Sa).forEach(y),Ka=g(gr," Access Key"),gr.forEach(y),Oa=I(Er),Ma=b(Er,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),Er.forEach(y),Ha=I(m),Fa=b(m,"DIV",{class:!0});var yr=E(Fa);qa=b(yr,"LABEL",{for:!0});var Ir=E(qa);Ja=b(Ir,"I",{class:!0}),E(Ja).forEach(y),Wa=g(Ir," PIN Lavagna"),Ir.forEach(y),_a=I(yr),Ga=b(yr,"INPUT",{type:!0,class:!0,id:!0}),Qa=b(yr,"BR",{}),Xa=I(yr),Ya=b(yr,"A",{href:!0,class:!0});var xr=E(Ya);Za=b(xr,"I",{class:!0}),E(Za).forEach(y),ar=g(xr,"Imposta Pin"),xr.forEach(y),yr.forEach(y),rr=I(m),sr=b(m,"BR",{}),er=b(m,"BR",{}),tr=I(m),or=b(m,"BUTTON",{type:!0,class:!0});var Dr=E(or);cr=b(Dr,"I",{class:!0}),E(cr).forEach(y),nr=g(Dr," Salva"),Dr.forEach(y),lr=I(m),fr=b(m,"BR",{}),m.forEach(y),h.forEach(y),p.forEach(y),ir=I(u),hr&&hr.l(u),u.forEach(y),this.h()},h:function(){x(A,"class","fas fa-server"),x(N,"for","database"),x(S,"type","text"),x(S,"class","form-control form-control-lg"),x(S,"id","database"),x(S,"placeholder","localhost"),x(k,"class","form-group text-left"),x(F,"class","far fa-database"),x(H,"for","databasename"),x(_,"type","text"),x(_,"class","form-control form-control-lg"),x(_,"id","databasename"),x(_,"placeholder","db_board"),x(O,"class","form-group text-left"),x(Y,"class","far fa-user"),x(X,"for","username"),x(ra,"type","text"),x(ra,"class","form-control form-control-lg"),x(ra,"id","dbusername"),x(ra,"placeholder","DB Username"),x(Q,"class","form-group text-left"),x(oa,"class","fal fa-lock"),x(ta,"for","dbpassword"),x(la,"type","password"),x(la,"class","form-control form-control-lg"),x(la,"id","dbpassword"),x(ea,"class","form-group text-left"),x(Ea,"class","far fa-user"),x(ba,"for","vteurl"),x(Ia,"type","text"),x(Ia,"class","form-control form-control-lg"),x(Ia,"id","vteurl"),x(Ia,"placeholder","https://vte.vtenext.ch"),x(ma,"class","form-group text-left"),x($a,"class","far fa-user"),x(La,"for","username"),x(Pa,"type","text"),x(Pa,"class","form-control form-control-lg"),x(Pa,"id","username"),x(Pa,"placeholder","Username"),x(Da,"class","form-group text-left"),x(Ra,"class","fal fa-lock"),x(Va,"for","password"),x(Aa,"type","password"),x(Aa,"class","form-control form-control-lg"),x(Aa,"id","password"),x(Ua,"class","form-group text-left"),x(Sa,"class","far fa-key"),x(Ca,"for","accesskey"),x(Ma,"type","text"),x(Ma,"class","form-control form-control-lg"),x(Ma,"id","accesskey"),x(Ma,"placeholder","123456789"),x(ja,"class","form-group text-left"),x(Ja,"class","far fa-hand-pointer"),x(qa,"for","pin"),x(Ga,"type","hidden"),x(Ga,"class","form-control form-control-lg"),x(Ga,"id","pin"),x(Za,"class","fas fa-check"),x(Ya,"href","."),x(Ya,"class","btn btn-success"),x(Fa,"class","form-group text-left"),x(cr,"class","fal fa-save"),x(or,"type","submit"),x(or,"class","btn btn-success btn-lg btn-block"),x(e,"class","col-sm-6 col-md-4  text-center"),x(s,"class","row justify-content-center"),x(r,"role","main"),x(r,"class","container-fluid")},m:function(u,p){D(u,r,p),L(r,s),L(s,e),L(e,t),L(t,o),L(e,c),L(e,n),L(n,l),L(l,f),L(n,i),L(n,d),L(d,V),L(n,R),L(n,k),L(k,N),L(N,A),L(N,z),L(k,C),L(k,S),L(n,K),L(n,O),L(O,H),L(H,F),L(H,q),L(O,W),L(O,_),L(n,G),L(n,Q),L(Q,X),L(X,Y),L(X,Z),L(Q,aa),L(Q,ra),L(n,sa),L(n,ea),L(ea,ta),L(ta,oa),L(ta,ca),L(ea,na),L(ea,la),L(n,fa),L(n,ia),L(ia,ua),L(n,pa),L(n,da),L(da,ha),L(n,va),L(n,ma),L(ma,ba),L(ba,Ea),L(ba,ga),L(ma,ya),L(ma,Ia),L(n,xa),L(n,Da),L(Da,La),L(La,$a),L(La,Ta),L(Da,Ba),L(Da,Pa),L(n,wa),L(n,Ua),L(Ua,Va),L(Va,Ra),L(Va,ka),L(Ua,Na),L(Ua,Aa),L(n,za),L(n,ja),L(ja,Ca),L(Ca,Sa),L(Ca,Ka),L(ja,Oa),L(ja,Ma),L(n,Ha),L(n,Fa),L(Fa,qa),L(qa,Ja),L(qa,Wa),L(Fa,_a),L(Fa,Ga),$(Ga,a[0]),L(Fa,Qa),L(Fa,Xa),L(Fa,Ya),L(Ya,Za),L(Ya,ar),L(n,rr),L(n,sr),L(n,er),L(n,tr),L(n,or),L(or,cr),L(or,nr),L(n,lr),L(n,fr),L(r,ir),hr&&hr.m(r,null),ur=!0,pr||(dr=[T(Ga,"input",a[2]),T(Ya,"click",B(a[3])),T(n,"submit",B(J))],pr=!0)},p:function(a,s){var e=P(s,1)[0];1&e&&$(Ga,a[0]),0!=a[1]?hr?(hr.p(a,e),2&e&&u(hr,1)):((hr=M(a)).c(),u(hr,1),hr.m(r,null)):hr&&(j(),p(hr,1,1,(function(){hr=null})),w())},i:function(a){ur||(u(hr),ur=!0)},o:function(a){p(hr),ur=!1},d:function(a){a&&y(r),hr&&hr.d(),pr=!1,U(dr)}}}var q="https://lepori.vtenext.ch/";function J(a){return W.apply(this,arguments)}function W(){return(W=V(R.mark((function a(r){var s,e,t;return R.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s={database:r.target.database.value,databasename:r.target.databasename.value,dbusername:r.target.dbusername.value,dbpassword:r.target.dbpassword.value,vteurl:r.target.vteurl.value,username:r.target.username.value,password:r.target.password.value,accesskey:r.target.accesskey.value,pin:r.target.pin.value},a.next=3,fetch(q+"modules/SDK/src/modules/Webservices/boardBackend.php?action=saveConfiguration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 3:return e=a.sent,a.next=6,e.json();case 6:"true"==a.sent.success&&(t=bootbox.alert({message:"Configurazione creata",size:"small"}),setTimeout((function(){t.modal("hide"),location.reload()}),2e3));case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function _(a,r,s){var e,t=!1;k(V(R.mark((function a(){var r;return R.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(q+"modules/SDK/src/modules/Webservices/boardBackend.php?action=getConfigurationFile",{method:"POST",headers:{"Content-Type":"application/json"}});case 2:return r=a.sent,a.next=5,r.json();case 5:"true"==a.sent.success&&C("/");case 7:case"end":return a.stop()}}),a)}))));return[e,t,function(){e=this.value,s(0,e)},function(){return s(1,t=!0)},function(a){s(0,e=a)},function(){return s(1,t=!1)},function(){return s(1,t=!1)}]}var G=function(r){a(l,n);var s=O(l);function l(a){var r;return e(this,l),r=s.call(this),t(c(r),a,_,F,o,{}),r}return l}();export default G;
